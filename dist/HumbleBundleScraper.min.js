!function(){"use strict";function delayOf(ms){return new Promise(resolve=>setTimeout(resolve,ms))}const getAllKeys=async()=>{let data=(()=>[...document.querySelectorAll(".unredeemed-keys-table tbody tr")].map(row=>({platform:row.querySelector(".platform :first-child").title,name:row.querySelector(".game-name h4").textContent,bundle:row.querySelector(".game-name p").textContent,bundle_url:row.querySelector(".game-name a").href})))();return(()=>null!==document.querySelector(".js-jump-to-page.current + .js-jump-to-page"))()?(await(async()=>{const page=document.querySelector(".js-jump-to-page.current + .js-jump-to-page");null!==page&&(page.click(),await delayOf(100))})(),data.concat(await getAllKeys())):data};(async()=>{console.log("Setting first page."),document.querySelector('.js-jump-to-page[data-index="0"]').click(),await delayOf(100)})().then(async()=>{const checkbox=document.getElementById("hide-redeemed");console.log("Hiding redeemed keys."),checkbox.checked||(checkbox.click(),await delayOf(250))}).then(getAllKeys).then(data=>JSON.stringify(data,null,2)).then(json=>(function(data,name){const a=document.createElement("a");a.href=URL.createObjectURL(new Blob([data])),a.download=name,a.click(),setTimeout(()=>URL.revokeObjectURL(a.href),500)})(json,"humble-bundle-keys.json"))}();